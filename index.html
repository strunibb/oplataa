<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            color: white;
            margin: 0;
            padding: 15px;
            text-align: center;
            min-height: 100vh;
        }

        h2 {
            margin: 15px 0;
            font-size: 22px;
            font-weight: bold;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            padding: 15px;
            text-align: left;
            backdrop-filter: blur(8px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease;
        }

        .card:hover {
            transform: scale(1.02);
        }

        .card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #fff;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 5px;
        }

        .card p {
            font-size: 14px;
            margin: 5px 0;
            color: #eee;
        }

        .button {
            display: block;
            margin-top: 10px;
            padding: 12px;
            width: 100%;
            background: linear-gradient(135deg, #9b4dff, #6a11cb);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .button:hover {
            background: linear-gradient(135deg, #b16eff, #7d2fff);
        }

        .hidden {
            display: none;
        }

        .back-btn {
            margin-top: 20px;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <h2>üé∏ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã</h2>
    <div id="categories" class="grid"></div>
    <div id="subscriptions" class="hidden"></div>
    <button id="backBtn" class="back-btn hidden" onclick="showCategories()">üîô –ù–∞–∑–∞–¥</button>

    <script>
        const ADMIN_BOT_TOKEN = '7598736914:AAHVJUOt7okTfMh1VE_l1ZrCqaXv-r1PcWI';
        const ADMIN_ID = '725158536';

        const tg = window.Telegram.WebApp;
        const user = tg.initDataUnsafe?.user;

        const data = {
            "üé∏ –ì–∏—Ç–∞—Ä–∞ / –≠–ª–µ–∫—Ç—Ä–æ–≥–∏—Ç–∞—Ä–∞": [
                { title: "–õ–∏—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (1 –º–µ—Å)", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 3,690‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,290‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 6,890‚ÇΩ"] },
                { title: "–õ–∏—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (2 –º–µ—Å)", options: ["8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 7,190‚ÇΩ", "12 –∑–∞–Ω—è—Ç–∏–π ‚Äì 10,490‚ÇΩ", "16 –∑–∞–Ω—è—Ç–∏–π ‚Äì 13,590‚ÇΩ"] },
                { title: "–£—Ç—Ä–æ —Å –≥–∏—Ç–∞—Ä–æ–π", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 3,390‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 4,890‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 6,390‚ÇΩ"] },
                { title: "–ù–∞—É—á–∏—Å—å –ø–æ–¥–±–∏—Ä–∞—Ç—å –Ω–∞ —Å–ª—É—Ö", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 3,690‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,290‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 6,890‚ÇΩ"] },
                { title: "–°–µ–º–µ–π–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 3,490‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,190‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 6,790‚ÇΩ"] },
                { title: "–î–≤–æ–π–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 6,790‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 10,090‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 13,290‚ÇΩ"] }
            ],
            "üéπ –§–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ / –ü–∏–∞–Ω–∏–Ω–æ": [
                { title: "–õ–∏—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (1 –º–µ—Å)", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 2,990‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 4,290‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,590‚ÇΩ"] },
                { title: "–õ–∏—á–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç (2 –º–µ—Å)", options: ["8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,790‚ÇΩ", "12 –∑–∞–Ω—è—Ç–∏–π ‚Äì 8,490‚ÇΩ", "16 –∑–∞–Ω—è—Ç–∏–π ‚Äì 10,990‚ÇΩ"] },
                { title: "–£—Ç—Ä–æ —Å –ø–∏–∞–Ω–∏–Ω–æ", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 2,790‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 3,990‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,190‚ÇΩ"] },
                { title: "–ù–∞—É—á–∏—Å—å –ø–æ–¥–±–∏—Ä–∞—Ç—å –Ω–∞ —Å–ª—É—Ö", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 2,990‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 4,290‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,590‚ÇΩ"] },
                { title: "–°–µ–º–µ–π–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 2,790‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 4,190‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 5,490‚ÇΩ"] },
                { title: "–î–≤–æ–π–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 5,490‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 8,190‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 10,790‚ÇΩ"] }
            ],
            "üéµ –£–∫—É–ª–µ–ª–µ": [
                { title: "1 –º–µ—Å", options: ["4 –∑–∞–Ω—è—Ç–∏—è ‚Äì 3,390‚ÇΩ", "6 –∑–∞–Ω—è—Ç–∏–π ‚Äì 4,890‚ÇΩ", "8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 6,390‚ÇΩ"] },
                { title: "2 –º–µ—Å", options: ["8 –∑–∞–Ω—è—Ç–∏–π ‚Äì 6,490‚ÇΩ", "12 –∑–∞–Ω—è—Ç–∏–π ‚Äì 9,590‚ÇΩ", "16 –∑–∞–Ω—è—Ç–∏–π ‚Äì 12,490‚ÇΩ"] }
            ],
            "‚ûï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏": [
                { title: "–û—Ç—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞", options: ["349‚ÇΩ"] },
                { title: "–ó–∞–ø–∏—Å—å —É—Ä–æ–∫–∞", options: ["49‚ÇΩ"] },
                { title: "–†–∞–∑–±–æ—Ä –ø–µ—Å–Ω–∏", options: ["450‚ÇΩ"] }
            ]
        };

        const categoriesDiv = document.getElementById('categories');
        const subsDiv = document.getElementById('subscriptions');
        const backBtn = document.getElementById('backBtn');

        function showCategories() {
            subsDiv.classList.add('hidden');
            backBtn.classList.add('hidden');
            categoriesDiv.classList.remove('hidden');
            categoriesDiv.innerHTML = '';
            Object.keys(data).forEach(cat => {
                const btn = document.createElement('button');
                btn.className = 'button';
                btn.innerText = cat;
                btn.onclick = () => showSubscriptions(cat);
                categoriesDiv.appendChild(btn);
            });
        }

        function showSubscriptions(category) {
            categoriesDiv.classList.add('hidden');
            subsDiv.innerHTML = '';
            subsDiv.classList.remove('hidden');
            backBtn.classList.remove('hidden');

            const grid = document.createElement('div');
            grid.className = 'grid';

            data[category].forEach(sub => {
                const card = document.createElement('div');
                card.className = 'card';
                const title = document.createElement('h3');
                title.innerText = sub.title;
                card.appendChild(title);

                sub.options.forEach(opt => {
                    const p = document.createElement('p');
                    p.innerText = opt;
                    card.appendChild(p);
                    const btn = document.createElement('button');
                    btn.className = 'button';
                    btn.innerText = `‚úÖ –í—ã–±—Ä–∞—Ç—å: ${opt}`;
                    btn.onclick = () => confirmPayment(`${sub.title} ‚Äî ${opt}`);
                    card.appendChild(btn);
                });

                grid.appendChild(card);
            });

            subsDiv.appendChild(grid);
        }

        async function confirmPayment(subscription) {
            if (!user?.username) {
                tg.showAlert('‚ùå –í–æ–π–¥–∏—Ç–µ –≤ Telegram!');
                return;
            }

            try {
                await fetch(`https://api.telegram.org/bot${ADMIN_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: `üí≥ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @${user.username} –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –æ–ø–ª–∞—Ç—É:\n${subscription}`
                    })
                });

                tg.showAlert('‚úÖ –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!');
                tg.close();
            } catch (error) {
                tg.showAlert('‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
            }
        }

        showCategories();
    </script>
</body>
</html>
